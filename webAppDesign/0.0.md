# Web应用开发实录产品篇 设计一个文章系统 什么是文章系统

## 前言

作为一个互联网老兵，已经从事了十多年的技术开发了。而开发或参与过的产品不计其数。我想系统的整理一下这些年我的经验积累，希望对自己以后的工作有所帮助。当然，如果对看官也能有所帮助，那就是再好不过的事情了。

我这几年一直坚持写博客 http://www.fungleo.com/ ，但是博客文章一般分享的都是一些小的知识点，或者某个代码片段。阅读者往往通过搜索关键词而来，看完某个技术点之后，就拍拍屁股走人了。

我尝试撰写一些成体系的内容，比如我撰写的 `vue` 的专题博文也获得了颇丰的点击量。但是这些总是欠缺点什么。因此，我筹划了一个更为庞大的码字计划。

而这篇文字，就是这个码字计划的开端。

**我希望从产品的设计，到前后端开发，以及运维部署等全链条的过程，撰写一个系列的文章，这些文章中包含所有相应用到的技术代码。**因此这个对于我的挑战就有点过大了。毕竟，我只是一个前端工程师。

我反思我这个计划的原点，我并不是想要试图展示所有的技术代码，虽然这很重要。我试图展示的是一个产品是如何经由产品、设计、前端、后端、运维等所有相关研发人员的努力，怎么样共同创造出来的。

这些文字的最终目的应该是这样的：

- 对于产品，应该从中学习到研发人员是如何思考你的需求的。
- 对于前端，我将介绍 `vue` 和 `react` 两个库的常见开发全过程。
- 对于后端，我将以 `python` 为基础，编写一个 `restful` 的核心框架。
- 对于运维，我将介绍常见服务的配置部署。

无论你是什么职位，你都可以从我的这个系列的文章中找到适合自己的内容。并且，如果你愿意，你还可以从其他角色的内容中，更好的提高自己。

或许，在前端眼里，后端就是个提供 `API` 家伙，但是如何提供他并不知道这其中有多复杂，不理解。而在后端眼里，前端只不过是把数据渲染出来，那能有什么难的呢？

从来没有一系列的文字，把所有的链条全部串起来，以至于这个链条上不同位置的人对于彼此之间非常陌生，甚至有非常大的误解。

为了保证我的文字能够解决这些问题，我必须好好的把握这个度。技术上不能过深，但又不能太过浅显，语言表达要非常通俗，才能使跨技术栈的看官既不感觉无聊，又不会感觉过于枯燥。

因此，我想以一个互联网最古老的系统——**文章系统**为例，来撰写这一系列的文章。

为什么选择文章系统呢？其实，互联网最核心的系统，应该是论坛系统。无论如何演变，绝大多数系统的本质，就是一个论坛系统。但是论坛系统还是非常复杂的，不利于我阐述内容。因此选择最古老的文章系统来进行阐述，或许更加利于我的描述。

## 什么是文章系统

文章系统是指可以通过系统发布文章内容，然后将其通过以网页或者其他形式进行展示的系统。

核心构架如下：

![文章系统核心构架](https://raw.githubusercontent.com/fengcms/articles/master/image/c3/425e7218889293a04e25b2d3125ca1.jpg)

比如我们常见的博客系统，就是一个比较复杂的文章系统。博主通过管理后台发布博文，然后博客系统的前台就可以显示这篇新添加的博客文章。

文章和文章之间会产生关联，比如，一个频道里面全部是将前端知识的，而另一个频道里面则全部是后端知识的。这时候，就会需要用到栏目管理。

除了这种栏目的划分，我们还有更多维度的划分，比如，相关关键词的维度，时间维度，作者维度等等。

此外，评论系统又是一个特别的文章系统。上面我举的例子是博主发布博文给访客查看。而查看内容的访客，也可以给博主发表一个留言，而这个留言其实就是一个反向的文章系统了。

而我上一段提到，互联网的核心其实是论坛系统，论坛系统其实就是一个大家互为博主和访客的文章系统。大家都可以发表文章，大家也都可以查阅别人和自己的文章。

比如微博，就是一个形式产生了变化的大型论坛而已，底层，还是一个论坛系统。而论坛系统的底层，就是一个文章系统。

## 一个小型的文章系统的需求沟通

好，我们现在进入产品经理的角色。

甲方是一个以内容创作为核心竞争力的公司，每天的工作就是写各种火爆网文，除了通过微信微博知乎等第三方公众平台之外，希望建设一个手机端的文章发布系统。具体要求如下：

1. 可以发表富文本文章，并且支持 `markdown` 格式。
    1. 只有管理员有发布文章的权限。
    2. 其他人交稿有人会用 `word` ，也可能是 `markdown` 文档。
2. 文章可以设置封面图片，也可以不设置封面图片。
3. 可以设置多个栏目，支持文章标题模糊搜索。
4. 暂时只需要 `h5` 页面，方便在各个渠道推广。

大概就是这样的一个需求，通过与客户沟通，在未来可能会去做 `PC` 版的网站，但是短期没有计划。另外未来可能会涉及到视频发布，但一期不做考虑。客户还说需要评论系统，产品推荐使用第三方评论系统，可以更好的社会化营销，比如《畅言》或者微博的评论系统，客户表示同意此意见……巴拉巴拉说了很多。

经过与甲方的多次沟通，产品已经基本确定了基本需求，还是着手下一步工作。

## 设计系统前台原型图

通过分析用户需求，产品开始设计文章系统的前台原型图。我们需要三个页面，文章列表页面，文章详情页面，以及搜索页面，其中搜索页面又分为初始页面和搜索结果页面。原型图如下：

![首页设计稿](https://raw.githubusercontent.com/fengcms/articles/master/image/36/d861f06946c58843865bca9c7e8653.jpg)

如上，首页分为三个部分，顶部搜索栏，频道菜单栏，文章列表。

切换频道，样式不会产生改变，只是下面的列表内容发生改变而已。当然，要支持上拉刷新和下拉加载。

点击搜索栏，进入搜索页面，原型图如下：

![搜索初始页面](https://raw.githubusercontent.com/fengcms/articles/master/image/77/5c2bb7bdfd82ccd3b3e7164c17db80.jpg)

搜索初始页面上，保留本地搜索记录，以及最热搜索记录等。点击这些搜索记录，可以进入相应的搜索结果页面。

当然，还可以在顶部的文本框内输入关键词，然后进入搜索结果页面。

![搜索结果页面](https://raw.githubusercontent.com/fengcms/articles/master/image/c6/27f2c8e90ade9ab8bdc2da62a6d233.jpg)

结果页面没什么要说的，就是把搜索结果整理成列表即可。

最后是文章内容页面。

![文章内容页面](https://raw.githubusercontent.com/fengcms/articles/master/image/c5/68007d3b735a23a0edd0bfe020e1f9.jpg)

好，我们将整个文章系统前台所需要的所有页面的原型图都制作出来了。然后就需要与甲方沟通，看原型图是否是甲方的真实需求。

当甲方完成确认之后，就可以进入下一个工作，设计效果图了。

> 本文由 FungLeo 原创，未经书面许可，严禁转载。


