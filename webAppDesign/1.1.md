# Web应用开发实录后端篇 设计后端结构 确定后端目录构架

我们先思考一下，我们这个项目需要点啥。如果按照最简单的写法，一个文件就能写完。但是这很明显是不合适的，我们需要把我的项目进行拆分，拆分成各个模块，模块之间的功能都非常清晰，这样，便于我们的项目维护。

我在思考这个文章系统的时候，首先想到的是，针对数据库的各种操作都是标准的，它应该能抽象出来一个核心出来，完成这些标准的操作。

最后，我设计出来的目录结构如下：

```#
├── api
├── core
├── db
├── key
├── process
│   ├── api_v1_be
│   │   ├── after
│   │   └── before
│   └── api_v1_fe
│       ├── after
│       └── before
├── temp
├── upload
├── config.py
└── run.py
```

## 目录结构说明

- `/run.py` 文件 
    - 项目入口文件，最终，项目是运行 `python3 run.py` 进行运行。
- `/config.py` 文件
    - 项目配置文件。
    - 我本来考虑将配置独立作为一个文件夹，这样可以分门别类的存放各样的配置信息，但是后来考虑，本来就没多少配置信息，强要拆分为多个，有点脱裤子放屁，所以就干脆只使用一个文件了。
- `/db` 文件夹
    - 其中包含了我们的 `sqlite` 的数据库文件。但这不是重点。
    - 最重要的是，存放我们的 `ORM` 模型文件。
- `/core` 文件夹
    - 核心程序文件夹。
    - 我希望把这个文件夹里面的内容作为一个框架来进行开发。
    - 也就是说，这个文件夹里面不存在任何业务代码，都是为了系统支撑的基础代码库。
    - 这样考虑的原因是希望这次的代码开发，在以后其他的项目中能够做到最大程度的代码复用。
- `/api` 文件夹
    - 存放业务代码，因为我们的业务就是各种 `API` 接口，所以顾名思义了。
- `/process` 文件夹
    - 前后处理文件夹。这个概念需要到后面我详细解释。
    - 这里记下有一个奇怪的深层次的文件夹结构。
- `/key` 文件夹
    - 存放 `RSA` 加密解密所需要的公钥以及私钥
- `/upload` 文件夹
    - 文件上传目录
- `/temp`
    - 用于存放系统生成的临时文件。

写不写代码的，我们先把系统构建的文件夹先建好，然后可以先做一些准备工作，比如搞一对 `RSA` 加密的公钥私钥先存好嘛，又没有什么技术含量。

我个人的经验是，先不要动手，一定是要先想，想明白了再干，比瞎干要强。开发项目也好，做其他事情也好，一定是先规划，先设计，然后才开始动手的。

如果一边干一边改，最后非常可能变成一个四不像，如果是真实项目的话，会导致严重的后果的。重构，将变得不得不执行。

而如果项目在一开始，就思考好整个架构，以及未来的拓展性，那么即便是重构，也会轻松许多。

> 本文由 FungLeo 原创，未经书面许可，严禁转载。

